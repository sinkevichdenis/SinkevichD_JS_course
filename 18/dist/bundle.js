!function(t){var i={};function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(n,r,function(i){return t[i]}.bind(null,r));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";var n=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),r=e(1),s=e(2),o=e(3);new(function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t);this.config=i||{ballRadius:10,paddleHeight:10,paddleWidth:75,paddleUpIndex:50,mainFillColor:"#0095DD",mainStrokeColor:"#333",brickRowCount:3,brickColumnCount:5,brickWidth:75,brickHeight:20,brickPadding:10,brickOffsetTop:30,brickOffsetLeft:30,bricksStrength:3,accelerate:.1,lives:3,startBallY:70,dx:2,dy:-2},this.canvas=document.getElementById("myCanvas"),this.ctx=this.canvas.getContext("2d"),this.x=this.canvas.width/2,this.y=this.canvas.height-this.config.startBallY,this.rightPressed=!1,this.leftPressed=!1,this.paddleX=(this.canvas.width-this.config.paddleWidth)/2,this.paddleY=this.canvas.height-this.config.paddleHeight,this.paddleDownStatus=!0,this.score=0,this.ball=new r.Ball(this.ctx,this.config.mainFillColor,this.config.mainStrokeColor),this.paddle=new r.Paddle(this.ctx,this.config.mainFillColor,this.config.mainStrokeColor),this.bar=new o.Bar(this.ctx,this.canvas,this.config),this.bricksObj=new s.Bricks(this.ctx,this.config),this.bricks=this.bricksObj.getBricksArr(),this.draw(this.ctx,this.canvas,this.config),this.events()}return n(t,[{key:"draw",value:function(t,i,e){var n=this;t.clearRect(0,0,i.width,i.height),this.bricksObj.draw(),this.paddle.draw(this.paddleX,this.paddleY,e.paddleWidth,e.paddleHeight),this.ball.draw(this.x,this.y,e.ballRadius),this.collisionDetection(e),this.bar.drawScore(this.score),this.bar.drawLives(this.config.lives),this.y<e.ballRadius&&(e.dy=-e.dy),this.rightPressed&&this.paddleX<i.width-e.paddleWidth&&(this.paddleX+=7),this.leftPressed&&this.paddleX>0&&(this.paddleX-=7),(this.x<e.ballRadius||this.x>i.width-e.ballRadius)&&(e.dx=-e.dx),this.y+e.ballRadius>i.height&&(e.lives--,e.lives?(this.x=i.width/2,this.y=i.height-this.config.startBallY,e.dx=2,e.dy=-2,this.paddleX=(i.width-e.paddleWidth)/2):(alert("GAME OVER"),document.location.reload())),this.x+=e.dx,this.y+=e.dy,this.reboundFromPaddle(this.config,this.paddleDownStatus),requestAnimationFrame(function(){n.draw(n.ctx,n.canvas,n.config)})}},{key:"reboundFromPaddle",value:function(t,i){if(this.x+t.ballRadius>this.paddleX&&this.x-t.ballRadius<this.paddleX+t.paddleWidth){if(!i&&this.y+t.ballRadius>this.paddleY+t.paddleHeight)return this.y+=3*t.dy,this.x+=3*t.dx,!1;!i&&this.y+t.ballRadius>=this.paddleY&&(this.y=this.paddleY-t.ballRadius),this.y+t.ballRadius>=this.paddleY&&(t.dy=-t.dy)}}},{key:"collisionDetection",value:function(t){for(var i=0;i<t.brickColumnCount;i++)for(var e=0;e<t.brickRowCount;e++){var n=this.bricks[i][e];n.status>0&&this.x+t.ballRadius>n.x&&this.x-t.ballRadius<n.x+t.brickWidth&&this.y+t.ballRadius>n.y&&this.y-t.ballRadius<n.y+t.brickHeight&&(t.dy=-t.dy,n.status--,this.score++,t.dx+=t.dx*t.accelerate,t.dy+=t.dy*t.accelerate,this.score===t.brickRowCount*t.brickColumnCount*t.bricksStrength&&(alert("You Win!!!"),document.location.reload()))}}},{key:"events",value:function(){var t=this;document.addEventListener("keydown",function(i){if(39===i.keyCode)t.rightPressed=!0;else if(37===i.keyCode)t.leftPressed=!0;else if(32===i.keyCode)for(;t.paddleY>=t.canvas.height-t.config.paddleHeight-t.config.paddleUpIndex;)t.paddleY--,t.paddleDownStatus=!1,t.reboundFromPaddle(t.config,t.paddleDownStatus)}),document.addEventListener("keyup",function(i){if(39===i.keyCode)t.rightPressed=!1;else if(37===i.keyCode)t.leftPressed=!1;else if(32===i.keyCode)for(;t.paddleY<t.canvas.height-t.config.paddleHeight;)t.paddleY++,t.paddleDownStatus=!0,t.reboundFromPaddle(t.config,t.paddleDownStatus)}),document.addEventListener("mousemove",function(i){var e=i.clientX-t.canvas.offsetLeft;switch(!0){case e<=t.config.paddleWidth/2:t.paddleX=0;break;case e>=t.canvas.width-t.config.paddleWidth/2:t.paddleX=t.canvas.width-t.config.paddleWidth;break;default:t.paddleX=e-t.config.paddleWidth/2}})}}]),t}())},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}();function r(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}function s(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}function o(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var a=i.Figures=function t(i,e,n){o(this,t),this.ctx=i,this.fillColor=e,this.strokeColor=n};i.Ball=function(t){function i(t,e,n){return o(this,i),r(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e,n))}return s(i,a),n(i,[{key:"draw",value:function(t,i,e){this.ctx.beginPath(),this.ctx.arc(t,i,e,0,2*Math.PI),this.ctx.fillStyle=this.fillColor,this.ctx.strokeStyle=this.strokeColor,this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()}}]),i}(),i.Paddle=function(t){function i(t,e,n){return o(this,i),r(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e,n))}return s(i,a),n(i,[{key:"draw",value:function(t,i,e,n){this.ctx.beginPath(),this.ctx.rect(t,i,e,n),this.ctx.fillStyle=this.fillColor,this.ctx.strokeStyle=this.strokeColor,this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()}}]),i}()},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}();i.Bricks=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=i,this.config=e,this.bricks=[],this.create()}return n(t,[{key:"create",value:function(){for(var t=0;t<this.config.brickColumnCount;t++){this.bricks[t]=[];for(var i=0;i<this.config.brickRowCount;i++)this.bricks[t][i]={x:0,y:0,status:this.config.bricksStrength}}}},{key:"getBricksArr",value:function(){return this.bricks}},{key:"draw",value:function(){for(var t=0;t<this.config.brickColumnCount;t++)for(var i=0;i<this.config.brickRowCount;i++)if(this.bricks[t][i].status>0){var e=t*(this.config.brickWidth+this.config.brickPadding)+this.config.brickOffsetLeft,n=i*(this.config.brickHeight+this.config.brickPadding)+this.config.brickOffsetTop;this.bricks[t][i].x=e,this.bricks[t][i].y=n,this.ctx.beginPath(),this.ctx.rect(e,n,this.config.brickWidth,this.config.brickHeight),this.ctx.fillStyle=this.bricks[t][i].status>=3?this.config.mainFillColor:2===this.bricks[t][i].status?"green":"red",this.ctx.strokeStyle=this.config.mainStrokeColor,this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()}}}]),t}()},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}();i.Bar=function(){function t(i,e,n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=i,this.canvas=e,this.config=n}return n(t,[{key:"drawLives",value:function(t){this.ctx.font="18px",this.ctx.strokeStyle=this.config.mainStrokeColor,this.ctx.stroke(),this.ctx.fillText("Lives: "+t,this.canvas.width-65,20)}},{key:"drawScore",value:function(t){var i=this.config.brickRowCount*this.config.brickColumnCount*this.config.bricksStrength;this.ctx.font="16px Arial",this.ctx.fillStyle=this.config.mainFillColor,this.ctx.fillText("Score: "+t+" / "+i,8,20)}}]),t}()}]);